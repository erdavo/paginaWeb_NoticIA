<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NoticIA - Analizar Noticia</title>

  <!-- Tailwind + fuentes -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
  </style>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#4cae4f",
            "background-light": "#f6f7f6",
            "background-dark": "#151d15",
            "surface-light": "#f1f3f1",
            "surface-dark": "#202a20",
            "text-light": "#131613",
            "text-dark": "#e1e3e1",
            "subtle-text-light": "#6c7f6d",
            "subtle-text-dark": "#9ca79c",
          },
          fontFamily: {
            "display": ["Inter", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "0.75rem",
            "xl": "1rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
</head>

<body
  class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark min-h-screen flex flex-col">

  <!-- HEADER -->
  <header
    class="flex items-center justify-between px-8 py-4 border-b border-subtle-text-light/20 dark:border-subtle-text-dark/20">
    <!-- Logo -->
    <div class="flex items-center gap-3">
      <a href="index.html"
        class="flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 hover:bg-primary/20 transition-all duration-200 shadow-sm hover:shadow-md active:scale-95">
        <img src="img/logo.png" alt="Logo NoticIA" class="h-6 w-6 object-contain" />
      </a>
    </div>

    <!-- Navegaci√≥n -->
    <nav class="flex gap-8 text-base font-medium">
      <a href="analizar.html" class="text-primary font-bold underline underline-offset-4">Analizar</a>
      <a href="foro.html" class="hover:text-primary transition">Foro</a>
      <a href="resumir.html" class="hover:text-primary transition">Resumir</a>
      <a href="ia.html" class="hover:text-primary transition">Hablar con la IA</a>
    </nav>

    <!-- Perfil -->
    <div class="flex flex-col items-center justify-center gap-1 cursor-pointer hover:opacity-80 transition">
      <div
        class="flex items-center justify-center w-12 h-12 rounded-full bg-surface-light dark:bg-surface-dark border border-subtle-text-light/20 dark:border-subtle-text-dark/20 shadow-sm hover:shadow-md transition">
        <span class="material-symbols-outlined text-subtle-text-light dark:text-subtle-text-dark text-3xl">person</span>
      </div>
      <span class="text-sm font-semibold text-text-light dark:text-text-dark">Mi perfil</span>
    </div>
  </header>

  <!-- CONTENIDO -->
  <main class="flex flex-col items-center justify-start flex-1 px-4 py-10">
    <h1 class="text-3xl font-bold mb-8">Analizar Noticia</h1>

    <!-- Pesta√±as -->
    <div id="tabs" class="flex gap-8 mb-8 text-lg font-semibold">
      <button data-tab="texto" class="tab-btn text-primary underline underline-offset-4">Texto</button>
      <button data-tab="documento" class="tab-btn hover:text-primary transition">Documento</button>
      <button data-tab="enlace" class="tab-btn hover:text-primary transition">Enlace</button>
    </div>

    <!-- Contenedor de contenido din√°mico -->
    <div id="tab-content" class="w-full max-w-2xl">
      <!-- üü¢ CONTENIDO INICIAL: TEXTO -->
      <div id="contenido-texto"
        class="tab-content active bg-surface-light dark:bg-surface-dark rounded-xl p-6 shadow-md border border-primary/30 dark:border-primary/40">

        <div class="flex items-center gap-2 mb-3">
          <span class="material-symbols-outlined text-primary">edit_note</span>
          <label for="texto" class="text-lg font-semibold tracking-tight">Introduce el texto de la noticia:</label>
        </div>

        <textarea id="texto" rows="8" placeholder="Escribe o pega aqu√≠ el texto que deseas analizar..."
          class="w-full resize-none rounded-lg border border-subtle-text-light/40 dark:border-subtle-text-dark/40 bg-background-light dark:bg-background-dark p-4 text-base text-text-light dark:text-text-dark placeholder:text-subtle-text-light dark:placeholder:text-subtle-text-dark focus:ring-2 focus:ring-primary outline-none focus:bg-surface-light/70 dark:focus:bg-surface-dark/70 transition-all duration-200 shadow-inner"></textarea>
      </div>

      <!-- üîµ CONTENIDO: DOCUMENTO -->
      <div id="contenido-documento"
        class="tab-content hidden bg-surface-light dark:bg-surface-dark rounded-xl p-6 shadow-md border border-dashed border-primary/30 dark:border-primary/40 transition-all duration-200">

        <div class="flex items-center gap-2 mb-4">
          <span class="material-symbols-outlined text-primary">upload_file</span>
          <h3 class="text-lg font-semibold tracking-tight">Subir documento:</h3>
        </div>

        <!-- Zona de carga -->
        <div id="dropzone"
          class="relative flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-subtle-text-light dark:border-subtle-text-dark rounded-xl hover:border-primary/60 transition-all cursor-pointer bg-background-light dark:bg-surface-dark/60 hover:bg-primary/5 group">
          <span
            class="material-symbols-outlined text-5xl text-primary mb-2 transition-transform group-hover:scale-110">cloud_upload</span>
          <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm">
            Arrastra y suelta un archivo aqu√≠ o haz clic para seleccionarlo
          </p>
          <input type="file" id="fileInput" class="hidden" />

          <!-- Efecto visual cuando arrastras -->
          <div id="drop-overlay"
            class="absolute inset-0 bg-primary/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
          </div>
        </div>

        <!-- üìÅ Lista de archivos subidos -->
        <div id="uploaded-files" class="mt-6 flex flex-col gap-3 text-left">
          <!-- Los archivos aparecer√°n aqu√≠ -->
        </div>

        <!-- Texto auxiliar -->
        <p class="mt-4 text-sm text-subtle-text-light dark:text-subtle-text-dark italic text-center">
          Formatos admitidos: PDF, DOCX, TXT, CSV, im√°genes, etc.
        </p>
      </div>

      <!-- üî¥ CONTENIDO: ENLACE -->
      <div id="contenido-enlace"
        class="tab-content hidden bg-surface-light dark:bg-surface-dark rounded-xl p-6 shadow-md border border-primary/30 dark:border-primary/40 transition-all duration-200">

        <div class="flex items-center gap-2 mb-3">
          <span class="material-symbols-outlined text-primary">link</span>
          <label for="enlace" class="text-lg font-semibold tracking-tight">Introduce el enlace de la noticia:</label>
        </div>

        <div class="relative">
          <input id="enlace" type="url" placeholder="https://ejemplo.com/articulo"
            class="w-full rounded-lg border border-subtle-text-light/40 dark:border-subtle-text-dark/40 bg-background-light dark:bg-background-dark p-4 text-base text-text-light dark:text-text-dark placeholder:text-subtle-text-light dark:placeholder:text-subtle-text-dark focus:ring-2 focus:ring-primary outline-none focus:bg-surface-light/70 dark:focus:bg-surface-dark/70 transition-all duration-200 shadow-inner" />

          <!-- √çcono visual dentro del campo -->
          <span
            class="material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-subtle-text-light dark:text-subtle-text-dark pointer-events-none">language</span>
        </div>

        <!-- Texto auxiliar -->
        <p class="mt-3 text-sm text-subtle-text-light dark:text-subtle-text-dark italic">
          Pega aqu√≠ el enlace completo de la noticia que deseas analizar.
        </p>
      </div>
    </div>



    <!-- Bot√≥n principal -->
    <button
      class="mt-8 flex items-center justify-center w-40 h-14 bg-primary text-white rounded-full text-base font-bold tracking-wide hover:opacity-90 active:scale-95 transition-transform">
      Analizar
    </button>

    <!-- RESULTADO DEL AN√ÅLISIS -->
    <section id="resultado-analisis"
      class="hidden flex flex-col items-center mt-16 opacity-0 transition-opacity duration-700">
      <h2 id="titulo-analisis" class="text-3xl font-bold mb-4">
        Analizando noticia...
      </h2>

      <!-- Porcentaje grande -->
      <p id="porcentaje-grande" class="text-5xl font-extrabold text-primary mb-2">
        0%
      </p>

      <!-- Barra de confianza -->
      <div class="w-80 h-8 bg-surface-dark/20 dark:bg-background-dark rounded-full overflow-hidden mb-3 shadow-inner">
        <div id="barra-confianza" class="h-full bg-primary w-0 transition-all duration-1000"></div>
      </div>

      <p id="porcentaje-confianza"
        class="text-base font-medium text-subtle-text-light dark:text-subtle-text-dark mb-10">
        Analizando...
      </p>

      <!-- Resultados -->
      <div
        class="w-full max-w-2xl bg-surface-light dark:bg-surface-dark rounded-xl p-6 border border-subtle-text-light/30 dark:border-subtle-text-dark/30 shadow-md mb-6">
        <h3 class="text-lg font-semibold mb-3">Resultados del an√°lisis:</h3>
        <p id="texto-analisis" class="text-base text-text-light dark:text-text-dark leading-relaxed">
          Procesando la informaci√≥n...
        </p>
      </div>

      <!-- Botones -->
      <div class="flex flex-col items-center gap-3">
        <a href="ia.html"
          class="w-64 h-14 rounded-full border border-primary text-primary font-bold flex items-center justify-center hover:bg-primary hover:text-white transition-all duration-200">
          Preguntar a NoticIA ‚Üó
        </a>

        <button id="reportarErrorBtn"
          class="text-sm text-subtle-text-light dark:text-subtle-text-dark hover:text-red-500 transition">
          ‚ö†Ô∏è Reportar error en el an√°lisis ‚Üó
        </button>
      </div>

    </section>

    <!-- üì© BLOQUE: Reportar error -->
    <section id="bloque-reporte" class="hidden flex flex-col items-center mt-16 opacity-0 transition-all duration-700">
      <h2 class="text-2xl font-bold mb-2">¬øDetectas un error en este an√°lisis?</h2>
      <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark mb-6 text-center max-w-lg">
        Cu√©ntanos qu√© no te ha parecido correcto. Tu opini√≥n nos ayuda a mejorar NoticIA.
      </p>

      <form id="formReporte"
        class="w-full max-w-2xl bg-surface-light dark:bg-surface-dark rounded-xl shadow-md p-8 border border-subtle-text-light/20 dark:border-subtle-text-dark/20 flex flex-col gap-4">

        <div class="flex flex-col">
          <label for="emailReporte" class="text-base font-medium mb-2">üìß Tu correo electr√≥nico (opcional):</label>
          <input id="emailReporte" type="email" placeholder="Introduce tu email si quieres que te contactemos"
            class="w-full rounded-lg border-none bg-background-light dark:bg-background-dark p-4 text-base text-text-light dark:text-text-dark placeholder:text-subtle-text-light dark:placeholder:text-subtle-text-dark focus:ring-2 focus:ring-primary outline-none" />
        </div>

        <div class="flex flex-col">
          <label for="mensajeReporte" class="text-base font-medium mb-2">üìù Describe brevemente el error:</label>
          <textarea id="mensajeReporte" rows="4"
            placeholder="Ejemplo: el an√°lisis indic√≥ que era confiable, pero las fuentes no son reales..."
            class="w-full rounded-lg border-none bg-background-light dark:bg-background-dark p-4 text-base text-text-light dark:text-text-dark placeholder:text-subtle-text-light dark:placeholder:text-subtle-text-dark focus:ring-2 focus:ring-primary outline-none resize-none"
            required></textarea>
        </div>

        <div class="flex justify-center pt-2">
          <button type="submit"
            class="w-48 h-12 rounded-full bg-primary text-white font-bold text-base hover:opacity-90 active:scale-95 transition-transform">
            Enviar reporte
          </button>
        </div>
      </form>
    </section>


  </main>

</body>
<script src="js/script.js" defer></script>

</html>